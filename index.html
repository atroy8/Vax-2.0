<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epidemic Control Simulator</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Main Menu Screen -->
        <div id="menu-screen" class="screen active">
            <div class="container">
                <div class="menu-header">
                    <h1>ü¶† Epidemic Control Simulator</h1>
                    <p class="menu-subtitle">Protect communities through strategic intervention</p>
                </div>
                
                <div class="scenario-grid">
                    <div class="scenario-card" data-scenario="urban">
                        <div class="scenario-icon">üèòÔ∏è</div>
                        <h3>Urban Neighborhood</h3>
                        <p>Control outbreak in tight-knit community</p>
                        <div class="scenario-stats">
                            <span>14 days</span> ‚Ä¢ <span>High transmission</span>
                        </div>
                    </div>
                    
                    <div class="scenario-card" data-scenario="school">
                        <div class="scenario-icon">üè´</div>
                        <h3>School Reopening</h3>
                        <p>Protect students and staff</p>
                        <div class="scenario-stats">
                            <span>21 days</span> ‚Ä¢ <span>Medium transmission</span>
                        </div>
                    </div>
                    
                    <div class="scenario-card" data-scenario="festival">
                        <div class="scenario-icon">üéµ</div>
                        <h3>Music Festival</h3>
                        <p>Prevent superspreader event</p>
                        <div class="scenario-stats">
                            <span>10 days</span> ‚Ä¢ <span>Very high transmission</span>
                        </div>
                    </div>
                    
                    <div class="scenario-card" data-scenario="care">
                        <div class="scenario-icon">üè•</div>
                        <h3>Care Facility</h3>
                        <p>Protect vulnerable residents</p>
                        <div class="scenario-stats">
                            <span>18 days</span> ‚Ä¢ <span>High transmission</span>
                        </div>
                    </div>
                    
                    <div class="scenario-card" data-scenario="global">
                        <div class="scenario-icon">‚úàÔ∏è</div>
                        <h3>Airport Hub</h3>
                        <p>First line against pandemic</p>
                        <div class="scenario-stats">
                            <span>21 days</span> ‚Ä¢ <span>Medium transmission</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Briefing Screen -->
        <div id="briefing-screen" class="screen">
            <div class="container">
                <div class="briefing-content">
                    <h2 id="briefing-title"></h2>
                    <div class="briefing-role">
                        <strong>Your Role:</strong>
                        <p id="briefing-role-text"></p>
                    </div>
                    <div class="briefing-description">
                        <strong>Situation:</strong>
                        <p id="briefing-description-text"></p>
                    </div>
                    
                    <div class="difficulty-selection">
                        <strong>Select Difficulty:</strong>
                        <div class="difficulty-grid">
                            <div class="difficulty-card selected" data-difficulty="easy">
                                <div class="difficulty-icon">üü¢</div>
                                <h4>Easy</h4>
                                <p>More resources, slower spread</p>
                                <ul>
                                    <li>50% more daily tool uses</li>
                                    <li>30% slower transmission</li>
                                    <li>Faster recovery (5 days)</li>
                                </ul>
                            </div>
                            <div class="difficulty-card" data-difficulty="medium">
                                <div class="difficulty-icon">üü°</div>
                                <h4>Medium</h4>
                                <p>Balanced gameplay</p>
                                <ul>
                                    <li>Standard tool limits</li>
                                    <li>Normal transmission rate</li>
                                    <li>Standard recovery (7 days)</li>
                                </ul>
                            </div>
                            <div class="difficulty-card" data-difficulty="hard">
                                <div class="difficulty-icon">üî¥</div>
                                <h4>Hard</h4>
                                <p>Limited resources, rapid spread</p>
                                <ul>
                                    <li>30% fewer daily tool uses</li>
                                    <li>40% faster transmission</li>
                                    <li>Slower recovery (9 days)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="briefing-tools">
                        <strong>Available Tools:</strong>
                        <div class="tools-preview">
                            <div class="tool-preview">
                                <span class="tool-icon">üíâ</span>
                                <span>Vaccinate - Protect healthy individuals (Day 2+)</span>
                            </div>
                            <div class="tool-preview">
                                <span class="tool-icon">üö´</span>
                                <span>Quarantine - Isolate any individual (Day 3+)</span>
                            </div>
                            <div class="tool-preview">
                                <span class="tool-icon">üîó</span>
                                <span>Sever Link - Break connections (Day 1+)</span>
                            </div>
                        </div>
                    </div>
                    <div class="briefing-actions">
                        <button class="btn btn--secondary" id="back-to-menu">Back to Menu</button>
                        <button class="btn btn--primary" id="start-simulation">Start Simulation</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-layout">
                <!-- Game Header -->
                <div class="game-header">
                    <div class="game-info">
                        <h3 id="game-scenario-name"></h3>
                        <div class="difficulty-indicator">
                            <span class="difficulty-label">Difficulty:</span>
                            <span class="difficulty-badge" id="current-difficulty">Medium</span>
                        </div>
                        <div class="game-stats">
                            <div class="stat">
                                <span class="stat-label">Day</span>
                                <span class="stat-value" id="current-day">1</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Infected</span>
                                <span class="stat-value infected" id="infected-count">0</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Protected</span>
                                <span class="stat-value protected" id="protected-count">0</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Population</span>
                                <span class="stat-value" id="population-count">0</span>
                            </div>
                        </div>
                    </div>
                    <div class="game-controls">
                        <button class="btn btn--secondary" id="pause-game">‚è∏Ô∏è Pause</button>
                        <button class="btn btn--primary" id="next-day">Next Day ‚è≠Ô∏è</button>
                    </div>
                </div>

                <!-- Game Content -->
                <div class="game-content">
                    <!-- Tools Panel -->
                    <div class="tools-panel">
                        <h4>Available Tools</h4>
                        <div class="tools-list">
                            <div class="tool-item" data-tool="vaccinate">
                                <div class="tool-header">
                                    <span class="tool-icon">üíâ</span>
                                    <span class="tool-name">Vaccinate</span>
                                    <span class="tool-usage">0/5</span>
                                </div>
                                <p class="tool-description">Protect healthy individuals only</p>
                                <div class="tool-availability">Available Day 2+</div>
                            </div>
                            
                            <div class="tool-item" data-tool="quarantine">
                                <div class="tool-header">
                                    <span class="tool-icon">üö´</span>
                                    <span class="tool-name">Quarantine</span>
                                    <span class="tool-usage">0/3</span>
                                </div>
                                <p class="tool-description">Isolate any individual</p>
                                <div class="tool-availability">Available Day 3+</div>
                            </div>
                            
                            <div class="tool-item" data-tool="severLink">
                                <div class="tool-header">
                                    <span class="tool-icon">üîó</span>
                                    <span class="tool-name">Sever Link</span>
                                    <span class="tool-usage">0/3</span>
                                </div>
                                <p class="tool-description">Break connection between people</p>
                                <div class="tool-availability">Available Day 1+</div>
                            </div>
                        </div>
                        
                        <div class="selected-tool">
                            <div class="selected-tool-indicator">
                                <span>Selected:</span>
                                <span id="selected-tool-name">None</span>
                            </div>
                        </div>
                    </div>

                    <!-- Network Visualization -->
                    <div class="network-container">
                        <div class="zoom-controls">
                            <button class="btn btn--sm zoom-btn" id="zoom-in">üîç+</button>
                            <button class="btn btn--sm zoom-btn" id="zoom-out">üîç‚àí</button>
                            <button class="btn btn--sm zoom-btn" id="reset-zoom">‚åÇ</button>
                            <div class="zoom-level">
                                <span id="zoom-level-display">100%</span>
                            </div>
                        </div>
                        <svg id="network-svg"></svg>
                        <div class="network-instructions">
                            <p>üéØ Select a tool, then click on nodes or links to use it</p>
                            <p><span style="color: var(--color-healthy)">‚óè</span> Healthy 
                               <span style="color: var(--color-infected)">‚óè</span> Infected 
                               <span style="color: var(--color-recovered)">‚óè</span> Recovered 
                               <span style="color: var(--color-vaccinated)">‚óè</span> Vaccinated 
                               <span style="color: var(--color-quarantined)">‚óè</span> Quarantined</p>
                        </div>
                    </div>

                    <!-- Action Log -->
                    <div class="action-log">
                        <h4>Action Log</h4>
                        <div class="log-entries" id="log-entries">
                            <div class="log-entry">
                                <span class="log-time">Day 1</span>
                                <span class="log-message">Simulation started</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="game-over-screen" class="screen">
            <div class="container">
                <div class="game-over-content">
                    <h2 id="game-over-title">Simulation Complete</h2>
                    <div class="difficulty-performance">
                        Completed on <span class="difficulty-badge" id="final-difficulty">Medium</span> difficulty
                    </div>
                    <div class="final-stats">
                        <div class="final-stat">
                            <span class="final-stat-label">Final Day:</span>
                            <span class="final-stat-value" id="final-day">0</span>
                        </div>
                        <div class="final-stat">
                            <span class="final-stat-label">Infections Prevented:</span>
                            <span class="final-stat-value" id="infections-prevented">0</span>
                        </div>
                        <div class="final-stat">
                            <span class="final-stat-label">People Protected:</span>
                            <span class="final-stat-value" id="people-protected">0</span>
                        </div>
                        <div class="final-stat">
                            <span class="final-stat-label">Network Reduction:</span>
                            <span class="final-stat-value" id="network-reduction">0%</span>
                        </div>
                    </div>
                    <div class="game-over-message" id="game-over-message"></div>
                    <div class="game-over-actions">
                        <button class="btn btn--secondary" id="play-again">Play Again</button>
                        <button class="btn btn--primary" id="try-different-scenario">Try Different Scenario</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Controls -->
    <div class="audio-controls">
        <div class="audio-panel">
            <button class="audio-toggle" id="audio-toggle">üîä</button>
            <div class="volume-control">
                <label for="volume-control">üéµ</label>
                <input type="range" id="volume-control" min="0" max="1" step="0.1" value="0.3">
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>